<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Source{% endblock %}</title>
        <meta
            name="description"
            content="Plateforme de ressources sur l'environnement"
        />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/google/263/memo_1f4dd.png" />
        {# Run `composer require symfony/webpack-encore-bundle`
           and uncomment the following Encore helpers to start using Symfony UX #}
        {% block stylesheets %}
            {#{{ encore_entry_link_tags('app') }}#}
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-4-grid@3.4.0/css/grid.min.css">
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" />
            <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
            <link rel="stylesheet" href="style.css">
        {% endblock %}

        {% block javascripts %}
            {#{{ encore_entry_script_tags('app') }}#}
        {% endblock %}
    </head>
    <body>
        {% block header %}
        <div class="visits">
            {{ visits.access.total }} visites
        </div>
        <header class="container-fluid {% if app.request.get('_route') == 'home' %}fadeInLoad-header-delayed{% endif %}">
            <div class="row d-none d-md-flex align-items-center">
                <div class="col mr-auto">
                    <a href="{{ path('home') }}" class="brand pl-0 {% if app.request.get('_route') == 'home' %}bold{% endif %}">Source</a>
                </div>
                <div class="col-auto">
                    <a href="{{ path('ressources') }}" class="{% if app.request.get('_route') == 'ressources' %}bold{% endif %}">Les ressources</a>
                </div>
                <div class="col-auto">
                    <a href="{{ path('report') }}" class="{% if app.request.get('_route') == 'report' %}bold{% endif %}">Les rapports</a>
                </div>
                <div class="col-auto">
                    <a href="{{ path('organisms') }}" class="{% if app.request.get('_route') == 'organisms' %}bold{% endif %}">Les organismes</a>
                </div>
    {#                <div class="col-auto">#}
    {#                    <a href="{{ path('blog') }}" class="{% if app.request.get('_route') == 'blog' %}bold{% endif %}">Le blog</a>#}
    {#                </div>#}
                <div class="col-auto">
                    <a href="{{ path('info') }}" class="{% if app.request.get('_route') == 'info' %}bold{% endif %}">Info</a>
                </div>
            </div>
            <div class="row d-flex d-md-none mobile-menu">
                <input type="checkbox" id="menu-toggle"/>
                <label id="menu-button" class="menu-button" for="menu-toggle">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </label>
                <div id="site-menu">
                    <ul id="site-menu-titles">
                        <li><a href="{{ path('home') }}" class="{% if app.request.get('_route') == 'home' %}bold{% endif %}">Accueil</a></li>
                        <li><a href="{{ path('ressources') }}" class="{% if app.request.get('_route') == 'ressources' %}bold{% endif %}">Les ressources</a></li>
                        <li><a href="{{ path('report') }}" class="{% if app.request.get('_route') == 'report' %}bold{% endif %}">Les rapports</a></li>
                        <li><a href="{{ path('organisms') }}" class="{% if app.request.get('_route') == 'organisms' %}bold{% endif %}">Les organismes</a></li>
                        <li><a href="{{ path('info') }}" class="{% if app.request.get('_route') == 'info' %}bold{% endif %}">Info</a></li>
                    </ul>
                </div>
            </div>
        </header>
        {% endblock %}
        {% block body %}{% endblock %}
        <footer class="mt-5">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-9 footer-brand-section">
                        <div class="mb-3">
                            <a href="{{ path('home') }}" class="brand pl-0 {% if app.request.get('_route') == 'home' %}bold{% endif %}">Source</a>
                        </div>
                        <div>
                            Plateforme de ressources sur l'environnement.
                        </div>
                    </div>
                    <div class="col-auto ml-auto footer-scroll-to-top">
                        <button id="scroll-to-top">
                            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+MDE5MzczMjctNUY3OC00QTJCLTlENDEtODA0NTYzNzM5REYzPC90aXRsZT4KICAgIDxnIGlkPSJIb21lIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iTWFpbi0vLXYzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTIzNy4wMDAwMDAsIC01MjgxLjAwMDAwMCkiIGZpbGw9IiMwMDAwMDAiPgogICAgICAgICAgICA8ZyBpZD0iY29tcG9uZW50LS8tZm9vdGVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgNTA5Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJidXR0b24iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMDguMDAwMDAwLCAxNjAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Imljby0vLTI0LS8tYXJyb3dzLS8tYXJyb3dfbG9uZ191cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjkuMDAwMDAwLCAyOS4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLjQ5Mjk5MDUsMjIuMDAzMDgxMyBMMTEuNDkyOTkwNSwyMi4wMDMwODEzIEMxMS4yMTY4NDgxLDIyLjAwMzA4MTMgMTAuOTkyOTkwNSwyMS43NzkxNTQ2IDEwLjk5Mjk5MDUsMjEuNTAyOTI3MiBMMTAuOTkyOTkwNSw1Ljk5ODE0OTcyIEw4Ljk5Mjk5MDQ4LDUuOTk4MTQ5NzIgQzguNzkyOTUyODksNS45OTUzMzg4MiA4LjYxMzg0NjI4LDUuODczNTI0MTcgOC41Mzc2NzQ0OSw1LjY4ODQ3ODUzIEM4LjQ2MTUwMjcxLDUuNTAzNDMyODkgOC41MDI5MzA2Miw1LjI5MDc4MTkyIDguNjQyOTkwNDgsNS4xNDc4ODc3MyBMMTEuNjQyOTkwNSwyLjE0Njk2MzA3IEMxMS44NDA4MDQyLDEuOTU1MTIwNjcgMTIuMTU1MTc2OCwxLjk1NTEyMDY3IDEyLjM1Mjk5MDUsMi4xNDY5NjMwNyBMMTUuMzUyOTkwNSw1LjE0Nzg4NzczIEMxNS40OTQyOTQ1LDUuMjkyMDg0MDkgMTUuNTM1MDU5Niw1LjUwNzEyOTQ1IDE1LjQ1NjMzNjMsNS42OTMwNjEwMiBDMTUuMzc3NjEzMSw1Ljg3ODk5MjU5IDE1LjE5NDg0NDgsNS45OTkzMzU4MSAxNC45OTI5OTA1LDUuOTk4MTQ5NzIgTDEyLjk5Mjk5MDUsNS45OTgxNDk3MiBMMTIuOTkyOTkwNSwyMS41MDI5MjcyIEMxMi45OTI5OTA1LDIxLjc3OTE1NDYgMTIuNzY5MTMyOSwyMi4wMDMwODEzIDEyLjQ5Mjk5MDUsMjIuMDAzMDgxMyBaIiBpZD0iSWNvbi1jb2xvciI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+" alt="Lien vers haut de la page">
                        </button>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col-auto mb-3 mb-md-0">
                        <a href="{{ path('ressources') }}" class="{% if app.request.get('_route') == 'ressources' %}bold{% endif %}">Les ressources</a>
                    </div>
                    <div class="col-auto">
                        <a href="{{ path('report') }}" class="{% if app.request.get('_route') == 'report' %}bold{% endif %}">Les rapports</a>
                    </div>
                    <div class="col-auto">
                        <a href="{{ path('organisms') }}" class="{% if app.request.get('_route') == 'organisms' %}bold{% endif %}">Les organismes</a>
                    </div>
                    {#                <div class="col-auto">#}
                    {#                    <a href="{{ path('blog') }}" class="{% if app.request.get('_route') == 'blog' %}bold{% endif %}">Le blog</a>#}
                    {#                </div>#}
                    <div class="col-auto">
                        <a href="{{ path('info') }}" class="{% if app.request.get('_route') == 'info' %}bold{% endif %}">Info</a>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col">
                        Â©2021 Source
                    </div>
                </div>
            </div>

        </footer>
        <script src="https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/2.3.1/list.min.js" integrity="sha512-93wYgwrIFL+b+P3RvYxi/WUFRXXUDSLCT2JQk9zhVGXuS2mHl2axj6d+R6pP+gcU5isMHRj1u0oYE/mWyt/RjA==" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
        <script type="text/javascript">
            const lightbox = GLightbox();
            AOS.init();
            let themeFilters = [];
            let mediaFilters = [];

            function resetList(){
                list.search();
                list.filter();
                list.update();
                document.querySelector('.search').value = '';
                document.querySelector('.filter').selectedIndex = 0;
                const typeSelectors = document.getElementsByClassName('type-selector');
                [...typeSelectors].forEach((typeSelector) => {
                    typeSelector.checked = false;
                })
            };

            const mobileMenuToggler = document.getElementById('menu-toggle')
            const fullscreenBlocks = document.getElementsByClassName('fullscreen-block-checkbox')
            if (fullscreenBlocks.length > 0) {
                [...fullscreenBlocks, mobileMenuToggler].forEach((fullscreenBlock) => {
                    fullscreenBlock.addEventListener('change', (event) => {
                        if (event.target.checked) {
                            document.body.parentElement.style.overflowY = 'hidden'
                        } else {
                            document.body.parentElement.style.overflowY = 'auto'
                        }
                    });
                })
            }

            function scrollToTop() {
                if (window.scrollY !== 0) {
                    setTimeout(function() {
                        window.scrollTo(0, 0);
                    }, 20);
                }
            }

            const scrollToTopButton = document.getElementById('scroll-to-top')
            scrollToTopButton.addEventListener('click', (event) => {
                scrollToTop();
            });

            const personalizationNexts = document.getElementsByClassName('personalization-next');
            if (personalizationNexts.length > 0) {
                [...personalizationNexts].forEach((personalizationNext) => {
                    personalizationNext.addEventListener('click', (event) => {
                        const checkboxes = document.querySelectorAll(".personalization-search input[type=checkbox]");
                        [...checkboxes].forEach((checkbox) => {
                            if (checkbox.checked) {
                                themeFilters.push(checkbox.value);
                            }
                        })

                        const personalization1 = document.getElementsByClassName('personalization-part-1')[0];
                        personalization1.classList.remove('is-visible');

                        setTimeout(() => {
                            const personalization2 = document.getElementsByClassName('personalization-part-2')[0];
                            personalization2.classList.add('is-visible');
                            setTimeout(() => {
                                personalization2.classList.add('fadeIn');
                            }, 500)
                        }, 0)
                    });
                })
            }

            const personalizationExits = document.getElementsByClassName("personalization-exit");
            if (personalizationExits.length > 0) {
                [...personalizationExits].forEach((personalizationExit) => {
                    personalizationExit.addEventListener('click', (event) => {
                        const personalization2 = document.getElementsByClassName('personalization-part-2')[0];
                        personalization2.classList.remove('is-visible');

                        setTimeout(() => {
                            const personalization1 = document.getElementsByClassName('personalization-part-1')[0];
                            personalization1.classList.add('is-visible');
                            setTimeout(() => {
                                personalization1.classList.add('fadeIn');
                            }, 500)
                        }, 0)
                    });
                })
            }

            const personalizationFinal = document.getElementsByClassName('personalization-final')[0];
            if (personalizationFinal) {
                personalizationFinal.addEventListener('click', (event) => {
                    const checkboxes = document.querySelectorAll(".personalization-search-media input[type=checkbox]");
                    [...checkboxes].forEach((checkbox) => {
                        if (checkbox.checked) {
                            mediaFilters.push(checkbox.value);
                        }
                    })

                    if (themeFilters.length > 0 && !themeFilters.includes('Tout')) {
                        localStorage.setItem('themeFilters', themeFilters.join(','));
                    }
                    if (mediaFilters.length > 0 && !mediaFilters.includes('Tout')) {
                        localStorage.setItem('mediaFilters', mediaFilters.join(','));
                    }
                    window.location.assign('/ressources')
                })
            }
        </script>
        {% block bottom_scripts %}{% endblock %}
    </body>
</html>