<script>
    function resetList(){
        list.search();
        list.filter();
        list.update();
        document.querySelector('.search').value = '';
        document.querySelector('.filter').selectedIndex = 0;
    };

    function filterAuthor(author){
        activeFilters.push({
            type: 'author',
            value: author
        });
        filterList();
    }

    const selectElement = document.querySelector('.filter');
    selectElement.addEventListener('change', (event) => {
        const potentialIndexToRemove = activeFilters.findIndex((activeFilter) => activeFilter.type === 'author');
        if (potentialIndexToRemove !== -1) {
            activeFilters.splice(potentialIndexToRemove, 1);
        }
        filterAuthor(event.target.value);
    });

    // fill select options
    let authors = [];
    list.items.forEach(function(item){
        authors.push(item.values().author)
    });
    [...new Set(authors)].forEach(function(item){
        const authorSelect = document.getElementById('author-select');
        authorSelect.options[authorSelect.options.length] = new Option(item, item);
    });
</script>